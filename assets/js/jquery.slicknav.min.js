
! function(e, t, n) {
  function a(t, n) {
    this.element = t, this.settings = e.extend({}, i, n), this.settings.duplicate || n.hasOwnProperty("removeIds") || (this.settings.removeIds = !1), this._defaults = i, this._name = s, this.init()
  }
  var i =
    s = "slicknav",
    o = "slicknav",
    l = {
      DOWN: 40,
      ENTER: 13,
      ESCAPE: 27,
      LEFT: 37,
      RIGHT: 39,
      SPACE: 32,
      TAB: 9,
      UP: 38
    };
  a.prototype.init = function() {

    i.btn = e(["<" + r.parentTag + ' aria-haspopup="true" role="button" tabindex="0" class="' + o + "_btn " + o + '_collapsed">', '<span class="' + o + '_menutxt">' + r.label + "</span>", '<span class="' + n + '">', '<span class="' + o + '_icon-bar"></span>', '<span class="' + o + '_icon-bar"></span>', '<span class="' + o + '_icon-bar"></span>', "</span>", "</" + r.parentTag + ">"].join("")), e(a).append(i.btn), "" !== r.appendTo ? e(r.appendTo).append(a) : e(r.prependTo).prepend(a), a.append(i.mobileNav);
    var p = i.mobileNav.find("li");
    e(p).each(function() {
      var t = e(this),
        n = {};
      if (n.children = t.children("ul").attr("role", "menu"), t.data("menu", n), n.children.length > 0) {
        var a = t.contents(),
          s = !1,
          l = [];
        e(a).each(function() {
          return e(this).is("ul") ? !1 : (l.push(this), void(e(this).is("a") && (s = !0)))
        });

        r.showChildren ? t.addClass(o + "_open") : t.addClass(o + "_collapsed"), t.addClass(o + "_parent");
        var d = e('<span class="' + o + '_arrow">' + (r.showChildren ? r.openedSymbol : r.closedSymbol) + "</span>");
        r.allowParentLinks && !r.nestedParentLinks && s && (d = d.wrap(c).parent()), e(l).last().after(d)
      }
    }), e(p).each(function() {
      var t = e(this).data("menu");
      r.showChildren || i._visibilityToggle(t.children, null, !1, null, !0)
    }), i._visibilityToggle(i.mobileNav, null, !1, "init", !0), i.mobileNav.attr("role", "menu"), e(t).mousedown(function() {
      i._outlines(!1)
    }), e(t).keyup(function() {
      i._outlines(!0)
    }), e(i.btn).click(function(e) {
      e.preventDefault(), i._menuToggle()
    }), i.mobileNav.on("click", "." + o + "_item", function(t) {
      t.preventDefault(), i._itemClick(e(this))
    }), e(i.btn).keydown(function(t) {
      var n = t || event;
      switch (n.keyCode) {
        case l.ENTER:
        case l.SPACE:
        case l.DOWN:
          t.preventDefault(), n.keyCode === l.DOWN && e(i.btn).hasClass(o + "_open") || i._menuToggle(), e(i.btn).next().find('[role="menuitem"]').first().focus()
      }
    }), i.mobileNav.on("keydown", "." + o + "_item", function(t) {
      var n = t || event;
      switch (n.keyCode) {
        case l.ENTER:
          t.preventDefault(), i._itemClick(e(t.target));
          break;
        case l.RIGHT:
          t.preventDefault(), e(t.target).parent().hasClass(o + "_collapsed") && i._itemClick(e(t.target)), e(t.target).next().find('[role="menuitem"]').first().focus()
      }
    }), i.mobileNav.on("keydown", '[role="menuitem"]', function(t) {
      var n = t || event;
      switch (n.keyCode) {
        case l.DOWN:
          t.preventDefault();
          var a = e(t.target).parent().parent().children().children('[role="menuitem"]:visible'),
            s = a.index(t.target),
            r = s + 1;
          a.length <= r && (r = 0);
          var c = a.eq(r);
          c.focus();
          break;
        case l.UP:
          t.preventDefault();
          var a = e(t.target).parent().parent().children().children('[role="menuitem"]:visible'),
            s = a.index(t.target),
            c = a.eq(s - 1);
          c.focus();
          break;
        case l.LEFT:
          if (t.preventDefault(), e(t.target).parent().parent().parent().hasClass(o + "_open")) {
            var p = e(t.target).parent().parent().prev();
            p.focus(), i._itemClick(p)
          } else e(t.target).parent().parent().hasClass(o + "_nav") && (i._menuToggle(), e(i.btn).focus());
          break;
        case l.ESCAPE:
          t.preventDefault(), i._menuToggle(), e(i.btn).focus()
      }
    }), r.allowParentLinks && r.nestedParentLinks && e("." + o + "_item a").click(function(e) {
      e.stopImmediatePropagation()
    })
  }, a.prototype._visibilityToggle = function(t, n, a, i, s) {
    function l(t, n) {
      e(t).removeClass(o + "_animating"), e(n).removeClass(o + "_animating"), s || p.afterOpen(t)
    }

    var c = this,
      p = c.settings,
      d = c._getActionItems(t),
      u = 0;
    a && (u = p.duration), t.hasClass(o + "_hidden") ? (t.removeClass(o + "_hidden"), s || p.beforeOpen(i), "jquery" === p.animations ? t.stop(!0, !0).slideDown(u, p.easingOpen, function() {
      l(i, n)
    }) : "velocity" === p.animations && t.velocity("finish").velocity("slideDown", {
      duration: u,
      easing: p.easingOpen,
      complete: function() {
        l(i, n)
      }
    }), t.attr("aria-hidden", "false"), d.attr("tabindex", "0"), c._setVisAttr(t, !1)) : (t.addClass(o + "_hidden"), s || p.beforeClose(i), "jquery" === p.animations ? t.stop(!0, !0).slideUp(u, this.settings.easingClose, function() {
      r(i, n)
    }) : "velocity" === p.animations && t.velocity("finish").velocity("slideUp"))
  }, a.prototype.open = function() {
    var e = this;
    e.btn.hasClass(o + "_collapsed") && e._menuToggle()
  }, a.prototype.close = function() {
    var e = this;
    e.btn.hasClass(o + "_open") && e._menuToggle()
  }, e.fn[s] = function(t) {
    var n = arguments;
    if (void 0 === t || "object" == typeof t) return this.each(function() {
      e.data(this, "plugin_" + s) || e.data(this, "plugin_" + s, new a(this, t))
    });
    if ("string" == typeof t && "_" !== t[0] && "init" !== t) {
      var i;
      return this.each(function() {
        var o = e.data(this, "plugin_" + s);
        o instanceof a && "function" == typeof o[t] && (i = o[t].apply(o, Array.prototype.slice.call(n, 1)))
      }), void 0 !== i ? i : this
    }
  }
}(jQuery, document, window);
